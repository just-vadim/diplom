# План автоматизированного тестирования сервиса «Путешествие дня»
## Перечень автоматизируемых сценариев
### Сценарии оплаты картой:
1. **Проверить, что происходит покупка по карте**
    - Описание: заполнить все поля валидными данными, нажать "Продолжить"
    - Ожидаемый результат: Pop-Up в врехнем правом углу с сообщением "Операция одобрена банком.", в БД появилась запись об оплате со статусом APPROVED
2. **Проверить, что не происходит покупка по карте при отказе банка**
    - Описание: ввести номер карты, по которой вернется отказ по операции, все остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: Pop-Up в врехнем правом углу с сообщением "Ошибка! Банк отказал в проведении операции.", в БД появилась запись об оплате со статусом DECLINED
3. **Проверить, что невозможно произвести покупку по карте, если все поля пустые**
    - Описание: оставить все поля пустыми, нажать "Продолжить"
    - Ожидаемый результат: под полем "Владелец" появилось сообщение "Поле обязательно для заполнения", под остальными полями появилось сообщение "Неверный формат", в БД отсутствует запись об оплате
4. **Проверить, что невозможно произвести покупку по карте, если поле "Номер карты" не заполнено**
    - Описание: поле "Номер карты" оставить пустым, остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Номер карты" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате
5. **Проверить, что невозможно произвести покупку по карте, если поле "Месяц" не заполнено**
    - Описание: поле "Месяц" оставить пустым, остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Месяц" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате 
6. **Проверить, что невозможно произвести покупку по карте, если поле "Год" не заполнено**
    - Описание: поле "Год" оставить пустым, остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Год" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате
7. **Проверить, что невозможно произвести покупку по карте, если поле "Владелец" не заполнено**
    - Описание: поле "Владелец" оставить пустым, остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Владелец" появилось сообщение "Поле обязательно для заполнения", в БД отсутствует запись об оплате
8. **Проверить, что невозможно произвести покупку по карте, если поле "CVC/CVV" не заполнено**
    - Описание: поле "CVC/CVV" оставить пустым, остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "CVC/CVV" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате
9. **Проверить, что невозможно произвести покупку по карте при вводе невалидного номера карты**
    - Описание: ввести невалидный номер карты (например, 4276 3800 4321 1234), остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: Pop-Up в врехнем правом углу с сообщением "Ошибка! Банк отказал в проведении операции.", в БД появилась запись об оплате со статусом DECLINED
10. **Проверить, что невозможно произвести покупку по карте при вводе несуществующего номера карты**
    - Описание: ввести несуществующий номер карты (например, 1234 4321 1234 4321), остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Номер карты" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате
11. **Проверить, что невозможно произвести покупку по карте при вводе неполного номера карты**
    - Описание: ввести неполный номер карты (например, 4444 4444 4444 444), остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Номер карты" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате
12. **Проверить, что невозможно произвести покупку по карте при вводе нулей в поле "Месяц"**
    - Описание: в поле "Месяц" ввести значение "00", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Месяц" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате
13. **Проверить, что невозможно произвести покупку по карте при вводе номера месяца без нуля первым символом в поле "Месяц"**
    - Описание: в поле "Месяц" ввести значение "5", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Месяц" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате
14. **Проверить, что невозможно произвести покупку по карте при вводе несуществующего номера месяца в поле "Месяц"**
    - Описание: в поле "Месяц" ввести значение "13", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Месяц" появилось сообщение "Неверно указан срок действия карты", в БД отсутствует запись об оплате
15. **Проверить, что невозможно произвести покупку по карте при вводе нуля в поле ввода "Год"**
    - Описание: в поле "Год" ввести значение "0", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: результат: под полем "Год" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате
16. **Проверить, что невозможно произвести покупку по карте, если срок действия карты истёк**
    - Описание: в поле "Год" ввести значение "20", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Год" появилось сообщение "Истёк срок действия карты", в БД отсутствует запись об оплате
17. **Проверить, что невозможно произвести покупку по карте при вводе невалидного значения в поле "Год"**
    - Описание: в поле "Год" ввести значение "99", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Год" появилось сообщение "Неверно указан срок действия карты", в БД отсутствует запись об оплате
18. **Проверить, что возможно произвести покупку по карте при вводе одного слова в поле "Владелец"**
    - Описание: в поле "Владелец" ввести значение "IVAN", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: Pop-Up в врехнем правом углу с сообщением "Операция одобрена банком.", в БД появилась запись об оплате со статусом APPROVED
19. **Проверить, что возможно произвести покупку по карте при вводе слишком длинного значения в поле "Владелец"**
    - Описание: в поле "Владелец" ввести значение "IGNAT SERGEEV-DROZDETSKIY", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: Pop-Up в врехнем правом углу с сообщением "Операция одобрена банком.", в БД появилась запись об оплате со статусом APPROVED
20. **Проверить, что невозможно произвести покупку по карте при вводе кириллицы в поле "Владелец"**
    - Описание: в поле "Владелец" ввести значение "ИВАН ПЕТРОВ", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: результат: под полем "Владелец" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате
21. **Проверить, что невозможно произвести покупку по карте при вводе спецсимволов в поле "Владелец"**
    - Описание: в поле "Владелец" ввести значение "~!@#$%^&*()_-+=,./?\|'", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: результат: под полем "Владелец" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате
22. **Проверить, что невозможно произвести покупку по карте при вводе цифр в поле "Владелец"**
    - Описание: в поле "Владелец" ввести значение "1234567890", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: результат: под полем "Владелец" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате
23. **Проверить, что невозможно произвести покупку по карте при вводе слишком короткого (одна цифра) значения в поле "CVC/CVV"**
    - Описание: в поле "CVC/CVV" ввести значение "7", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: результат: под полем "CVC/CVV" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате
24. **Проверить, что невозможно произвести покупку по карте при вводе слишком короткого (две цифры) значения в поле "CVC/CVV"**
    - Описание: в поле "CVC/CVV" ввести значение "71", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: результат: под полем "CVC/CVV" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате

### Сценарии оплаты в кредит:
1. **Проверить, что происходит покупка в кредит**
    - Описание: заполнить все поля валидными данными, нажать "Продолжить"
    - Ожидаемый результат: Pop-Up в врехнем правом углу с сообщением "Операция одобрена банком.", в БД появилась запись об оплате в кредит со статусом APPROVED
2. **Проверить, что не происходит покупка в кредит при отказе банка**
    - Описание: ввести номер карты, по которой вернется отказ по операции, все остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: Pop-Up в врехнем правом углу с сообщением "Ошибка! Банк отказал в проведении операции.", в БД появилась запись об оплате в кредит со статусом DECLINED
3. **Проверить, что невозможно произвести покупку в кредит, если все поля пустые**
    - Описание: оставить все поля пустыми, нажать "Продолжить"
    - Ожидаемый результат: под полем "Владелец" появилось сообщение "Поле обязательно для заполнения", под остальными полями появилось сообщение "Неверный формат", в БД отсутствует запись об оплате в кредит
4. **Проверить, что невозможно произвести покупку в кредит, если поле "Номер карты" не заполнено**
    - Описание: поле "Номер карты" оставить пустым, остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Номер карты" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате в кредит
5. **Проверить, что невозможно произвести покупку в кредит, если поле "Месяц" не заполнено**
    - Описание: поле "Месяц" оставить пустым, остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Месяц" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате в кредит 
6. **Проверить, что невозможно произвести покупку в кредит, если поле "Год" не заполнено**
    - Описание: поле "Год" оставить пустым, остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Год" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате в кредит
7. **Проверить, что невозможно произвести покупку в кредит, если поле "Владелец" не заполнено**
    - Описание: поле "Владелец" оставить пустым, остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Владелец" появилось сообщение "Поле обязательно для заполнения", в БД отсутствует запись об оплате в кредит
8. **Проверить, что невозможно произвести покупку в кредит, если поле "CVC/CVV" не заполнено**
    - Описание: поле "CVC/CVV" оставить пустым, остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "CVC/CVV" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате в кредит
9. **Проверить, что невозможно произвести покупку в кредит при вводе невалидного номера карты**
    - Описание: ввести невалидный номер карты (например, 4276 3800 4321 1234), остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: Pop-Up в врехнем правом углу с сообщением "Ошибка! Банк отказал в проведении операции.", в БД появилась запись об оплате в кредит со статусом DECLINED
10. **Проверить, что невозможно произвести покупку в кредит при вводе несуществующего номера карты**
    - Описание: ввести несуществующий номер карты (например, 1234 4321 1234 4321), остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Номер карты" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате в кредит
11. **Проверить, что невозможно произвести покупку в кредит при вводе неполного номера карты**
    - Описание: ввести неполный номер карты (например, 4444 4444 4444 444), остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Номер карты" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате в кредит
12. **Проверить, что невозможно произвести покупку в кредит при вводе нулей в поле "Месяц"**
    - Описание: в поле "Месяц" ввести значение "00", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Месяц" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате в кредит
13. **Проверить, что невозможно произвести покупку в кредит при вводе номера месяца без нуля первым символом в поле "Месяц"**
    - Описание: в поле "Месяц" ввести значение "5", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Месяц" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате в кредит
14. **Проверить, что невозможно произвести покупку в кредит при вводе несуществующего номера месяца в поле "Месяц"**
    - Описание: в поле "Месяц" ввести значение "13", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Месяц" появилось сообщение "Неверно указан срок действия карты", в БД отсутствует запись об оплате в кредит
15. **Проверить, что невозможно произвести покупку в кредит при вводе нуля в поле ввода "Год"**
    - Описание: в поле "Год" ввести значение "0", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: результат: под полем "Год" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате в кредит
16. **Проверить, что невозможно произвести покупку в кредит, если срок действия карты истёк**
    - Описание: в поле "Год" ввести значение "20", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Год" появилось сообщение "Истёк срок действия карты", в БД отсутствует запись об оплате в кредит
17. **Проверить, что невозможно произвести покупку в кредит при вводе невалидного значения в поле "Год"**
    - Описание: в поле "Год" ввести значение "99", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: под полем "Год" появилось сообщение "Неверно указан срок действия карты", в БД отсутствует запись об оплате в кредит
18. **Проверить, что возможно произвести покупку в кредит при вводе одного слова в поле "Владелец"**
    - Описание: в поле "Владелец" ввести значение "IVAN", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: Pop-Up в врехнем правом углу с сообщением "Операция одобрена банком.", в БД появилась запись об оплате в кредит со статусом APPROVED
19. **Проверить, что возможно произвести покупку в кредит при вводе слишком длинного значения в поле "Владелец"**
    - Описание: в поле "Владелец" ввести значение "IGNAT SERGEEV-DROZDETSKIY", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: Pop-Up в врехнем правом углу с сообщением "Операция одобрена банком.", в БД появилась запись об оплате в кредит со статусом APPROVED
20. **Проверить, что невозможно произвести покупку в кредит при вводе кириллицы в поле "Владелец"**
    - Описание: в поле "Владелец" ввести значение "ИВАН ПЕТРОВ", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: результат: под полем "Владелец" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате в кредит
21. **Проверить, что невозможно произвести покупку в кредит при вводе спецсимволов в поле "Владелец"**
    - Описание: в поле "Владелец" ввести значение "~!@#$%^&*()_-+=,./?\|'", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: результат: под полем "Владелец" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате в кредит
22. **Проверить, что невозможно произвести покупку в кредит при вводе цифр в поле "Владелец"**
    - Описание: в поле "Владелец" ввести значение "1234567890", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: результат: под полем "Владелец" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате в кредит
23. **Проверить, что невозможно произвести покупку в кредит при вводе слишком короткого (одна цифра) значения в поле "CVC/CVV"**
    - Описание: в поле "CVC/CVV" ввести значение "7", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: результат: под полем "CVC/CVV" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате в кредит
24. **Проверить, что невозможно произвести покупку в кредит при вводе слишком короткого (две цифры) значения в поле "CVC/CVV"**
    - Описание: в поле "CVC/CVV" ввести значение "71", остальные поля заполнить валидными данными, нажать "Продолжить"
    - Ожидаемый результат: результат: под полем "CVC/CVV" появилось сообщение "Неверный формат", в БД отсутствует запись об оплате в кредит

## Перечень используемых инструментов
- Java 11 — основной язык реализации проекта. Универсальный язык, позволяющий работать на всех ОС и различном оборудовании. Имеет большое число библиотек.
- IntelliJ IDEA — интегрированная среда разработки программного обеспечения. Мощный инструмент для работы с Java. Имеет множество гибких настроек и большое число плагинов.
- Gradle — система управления зависимостями. По сравнению с аналогами, в Gradle проще подключать зависимости за счёт меньшего количесва кода.
- JUnit5 — фреймворк для написания и запсука авто-тестов и. Совместим с JVM, содержит необходимые для реализации проекта аннотации и assert’ы.
- Selenide — фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver. Подключение веб-драйвера происходит автоматически, по сравнению с чистым Selenium, более простое написание тестов.
- Faker - библиотека, умеющая генерировать случайные данные для тестов. Позволяет создать различные данные автоматически, избегая хардкода значений, что делает тесты более поддерживаемыми.
- Lombok - библиотека, позовляющая с помощью аннотаций существенно сократить количество однотипного кода (getter'ы, setter'ы, конструкторы классов и прочее).
- Docker - программное обеспечение для автоматизации развёртывания и управления приложениями в средах с поддержкой контейнеризации. Используется для развертывания виртуальных контейнеров и запуске в них баз данных MySQL и PostgreSQL, а также эмуляторов сервисов банка, для работы которых требуется NodeJS.
- Allure - фреймворк для создания простых и понятных отчётов автотестов.
- Git - система контроля версий. Удобство, возможность одновременной параллельной разработки, есть интеграция с IntelliJ IDEA
- DBeaver - бесплатный универсальный инструмент для работы с различными базами данных.
- Postman - программное обеспечение для отправки запросов к API с понятным интерфейсом. Удобный и в то же время функциональный инструмент.

## Перечень и описание возможных рисков при автоматизации
1. Слишком расплывчатые требования - есть большой риск неправильно "додумать" и тем самым пропустить баг на прод;
2. Тестирование на симуляторах сервисов Банка - нет гарантий, что симуляторы работают аналогично продуктивной системе. Большой риск пропустить баг на прод;
3. Нет документации к API сервиса - затруднение проверки результатов тестов;
4. Тестирование c двумя БД (MySQL и PostgreSQL) - дополнительные сложности настройки контейнеров Docker.

## Интервальная оценка с учётом рисков
- Разработка плана тестирования - 8 часов;
- Настройка тестового окружения - 8 часов;
- Написание автотестов - 56 часов;
- Подготовка отчета по итогам автоматизированного тестирования - 8 часов;
- Подготовка отчета по итогам автоматизации - 8 часов.

Итого: 88 часов.

## План сдачи работ
- 28.02.21 - разработка плана тестирования; 
- 14.03.21 - разработка и прогон автотестов;
- 17.03.21 - подготовка отчёта по итогам автоматизированного тестирования;
- 21.03.21 - подготовка отчета по итогам автоматизации.
